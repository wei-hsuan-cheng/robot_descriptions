<?xml version="1.0"?>
<robot name="ec66_robot" xmlns:xacro="http://ros.org/wiki/xacro">
	<xacro:macro name="EC66" params="name collider:=convex">

		<xacro:property name="prefix" value="${name + '_' if name else ''}"/>

		<link name="${prefix}base_link">
			<inertial>
				<origin xyz="0.00039768 8.0247E-10 0.012605"/>
				<mass value="0.41542"/>
				<inertia ixx="0.00054632" ixy="-4.5067E-09" ixz="5.9528E-07" iyy="0.00053741" iyz="-3.5275E-10"
								 izz="0.0010336"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find elite_ec_description)/meshes/ec66/visual/base_link.obj"/>
				</geometry>
			</visual>
			<xacro:if value="${collider == 'convex'}">
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/base_link.obj"/>
					</geometry>
				</collision>
			</xacro:if>
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<geometry>
						<box size="1.5 1.5 0.05"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>

		<link name="${prefix}link1">
			<inertial>
				<origin xyz="-3.9337E-06 0.0082614 0.0028405"/>
				<mass value="1.7827"/>
				<inertia ixx="0.0031691" ixy="-1.2175E-07" ixz="2.8351E-08" iyy="0.0029334" iyz="-0.00037927" izz="0.0035086"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find elite_ec_description)/meshes/ec66/visual/link1.obj"/>
				</geometry>
			</visual>
			<xacro:if value="${collider == 'convex'}">
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link1.obj"/>
					</geometry>
				</collision>
			</xacro:if>
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<geometry>
						<cylinder length="0.15" radius="0.07"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>

		<joint name="${prefix}joint1" type="revolute">
			<origin xyz="0 0 0.096"/>
			<parent link="${prefix}base_link"/>
			<child link="${prefix}link1"/>
			<axis xyz="0 0 1"/>
			<limit lower="-6.2832" upper="6.2832" effort="150" velocity="2.6199"/>
		</joint>

		<link name="${prefix}link2">
			<inertial>
				<origin xyz="2.17E-06 0.017318 0.17637"/>
				<mass value="4.8843"/>
				<inertia ixx="0.022101" ixy="1.2727E-07" ixz="1.0833E-07" iyy="0.022526" iyz="-0.00021178" izz="0.0066105"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find elite_ec_description)/meshes/ec66/visual/link2.obj"/>
				</geometry>
			</visual>
			<xacro:if value="${collider == 'convex'}">
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link2_collision_0.obj"/>
					</geometry>
				</collision>
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link2_collision_1.obj"/>
					</geometry>
				</collision>
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link2_collision_2.obj"/>
					</geometry>
				</collision>
			</xacro:if>
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<origin rpy="1.5708 0 0" xyz="0 0 0"/>
					<geometry>
						<cylinder length="0.18" radius="0.08"/>
					</geometry>
				</collision>
				<collision>
					<origin xyz="0 0.022 0.21"/>
					<geometry>
						<cylinder length="0.32" radius="0.065"/>
					</geometry>
				</collision>
				<collision>
					<origin rpy="1.5708 0 0" xyz="0 0.022 0.42"/>
					<geometry>
						<cylinder length="0.13" radius="0.06"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>

		<joint name="${prefix}joint2" type="revolute">
			<origin xyz="0 0.122 0"/>
			<parent link="${prefix}link1"/>
			<child link="${prefix}link2"/>
			<axis xyz="0 1 0"/>
			<limit lower="-6.2832" upper="6.2832" effort="150" velocity="2.6199"/>
		</joint>

		<link name="${prefix}link3">
			<inertial>
				<origin xyz="-7.9845E-06 0.028008 0.20069"/>
				<mass value="2.1495"/>
				<inertia ixx="0.0091566" ixy="-1.4815E-07" ixz="-2.8912E-08" iyy="0.0091573" iyz="7.3471E-05" izz="0.0015747"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find elite_ec_description)/meshes/ec66/visual/link3.obj"/>
				</geometry>
			</visual>
			<xacro:if value="${collider == 'convex'}">
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link3_collision_0.obj"/>
					</geometry>
				</collision>
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link3_collision_1.obj"/>
					</geometry>
				</collision>
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link3_collision_2.obj"/>
					</geometry>
				</collision>
			</xacro:if>
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<origin xyz="0 0.03 0.01"/>
					<geometry>
						<sphere radius="0.07"/>
					</geometry>
				</collision>
				<collision>
					<origin xyz="0 0.02 0.21"/>
					<geometry>
						<cylinder length="0.28" radius="0.05"/>
					</geometry>
				</collision>
				<collision>
					<origin rpy="1.5708 0 0" xyz="0 0.02 0.4"/>
					<geometry>
						<cylinder length="0.11" radius="0.05"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>

		<joint name="${prefix}joint3" type="revolute">
			<origin xyz="0 -0.122 0.418"/>
			<parent link="${prefix}link2"/>
			<child link="${prefix}link3"/>
			<axis xyz="0 1 0"/>
			<limit lower="-2.7925" upper="2.7925" effort="150" velocity="3.3161"/>
		</joint>

		<link name="${prefix}link4">
			<inertial>
				<origin xyz="5.2272E-07 0.11599 -0.00070291"/>
				<mass value="0.53436"/>
				<inertia ixx="0.00041486" ixy="1.1841E-09" ixz="4.7177E-09" iyy="0.00037669" iyz="-5.8283E-05" izz="0.0004403"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find elite_ec_description)/meshes/ec66/visual/link4.obj"/>
				</geometry>
			</visual>
			<xacro:if value="${collider == 'convex'}">
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link4.obj"/>
					</geometry>
				</collision>
			</xacro:if>
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<origin xyz="0 0.12 0"/>
					<geometry>
						<cylinder length="0.11" radius="0.045"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>

		<joint name="${prefix}joint4" type="revolute">
			<origin xyz="0 0 0.398" rpy="0 0 0"/>
			<parent link="${prefix}link3"/>
			<child link="${prefix}link4"/>
			<axis xyz="0 1 0"/>
			<limit lower="-6.2832" upper="6.2832" effort="28" velocity="4.5379"/>
		</joint>

		<link name="${prefix}link5">
			<inertial>
				<origin xyz="5.2281E-07 0.00070291 0.091994"/>
				<mass value="0.53436"/>
				<inertia ixx="0.00041486" ixy="-4.6787E-09" ixz="1.1523E-09" iyy="0.0004403" iyz="5.8283E-05" izz="0.00037669"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find elite_ec_description)/meshes/ec66/visual/link5.obj"/>
				</geometry>
			</visual>
			<xacro:if value="${collider == 'convex'}">
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link5.obj"/>
					</geometry>
				</collision>
			</xacro:if>
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<origin rpy="1.5708 0 0" xyz="0 0.01 0.095"/>
					<geometry>
						<cylinder length="0.11" radius="0.045"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>

		<joint name="${prefix}joint5" type="revolute">
			<origin xyz="0 0.122 0"/>
			<parent link="${prefix}link4"/>
			<child link="${prefix}link5"/>
			<axis xyz="0 0 1"/>
			<limit lower="-6.2832" upper="6.2832" effort="28" velocity="4.5379"/>
		</joint>

		<link name="${prefix}link6">
			<inertial>
				<origin xyz="1.7828E-08 -0.067831 -2.6091E-05"/>
				<mass value="0.16488"/>
				<inertia ixx="7.7869E-05" ixy="1.9128E-10" ixz="-3.3406E-10" iyy="0.00011744" iyz="-7.8331E-08"
								 izz="7.757E-05"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find elite_ec_description)/meshes/ec66/visual/link6.obj"/>
				</geometry>
			</visual>
			<xacro:if value="${collider == 'convex'}">
				<collision>
					<geometry>
						<mesh filename="file://$(find elite_ec_description)/meshes/ec66/collision/link6.obj"/>
					</geometry>
				</collision>
			</xacro:if>
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<origin rpy="1.5708 0 0" xyz="0 -0.07 0"/>
					<geometry>
						<cylinder length="0.05" radius="0.045"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>

		<joint name="${prefix}joint6" type="revolute">
			<origin xyz="0 0 0.098"/>
			<parent link="${prefix}link5"/>
			<child link="${prefix}link6"/>
			<axis xyz="0 -1 0"/>
			<limit lower="-6.2832" upper="6.2832" effort="28" velocity="4.5379"/>
		</joint>

		<link name="${prefix}flan">
			<xacro:if value="${collider == 'simple'}">
				<collision>
					<origin xyz="0 0 0.1"/>
					<geometry>
						<box size="0.05 0.1 0.2"/>
					</geometry>
				</collision>
			</xacro:if>
		</link>
		<joint name="${prefix}flan_joint" type="fixed">
			<origin xyz="0 -0.089 -0.00047661" rpy="-1.5708 0 3.1416"/>
			<parent link="${prefix}link6"/>
			<child link="${prefix}flan"/>
		</joint>
	</xacro:macro>
</robot>