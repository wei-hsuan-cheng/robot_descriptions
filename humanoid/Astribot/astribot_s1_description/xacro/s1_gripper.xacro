<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    Astribot S1 Gripper Macro                                                    | -->
<!-- |    Modular gripper definition for Astribot S1 robot                             | -->
<!-- =================================================================================== -->
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

	<xacro:macro name="Gripper" params="name">

		<xacro:property name="prefix" value="${name + '_' if name else ''}"/>

		<!-- 夹爪基座 -->
		<link name="${prefix}gripper_base">
			<inertial>
				<origin xyz="0.000286114278273852 5.46143913165315E-05 0.0313070801272036"/>
				<mass value="0.187915151353017"/>
				<inertia
						ixx="7.7083129306073E-05"
						ixy="-5.2914269679694E-08"
						ixz="-7.97668331424419E-07"
						iyy="9.20833968358638E-05"
						iyz="2.05531866691208E-06"
						izz="0.000110550450454867"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/base.obj"/>
				</geometry>
			</visual>
		</link>

		<!-- 夹爪左侧手指 L1 -->
		<link name="${prefix}gripper_L1">
			<inertial>
				<origin xyz="0.0238640864176069 9.47687805681264E-11 0.0229075443586857"/>
				<mass value="0.0132773347208514"/>
				<inertia
						ixx="4.28423784706423E-06"
						ixy="-3.1809828478112E-14"
						ixz="-1.80523452558963E-06"
						iyy="3.7385709458377E-06"
						iyz="-1.72714143575754E-14"
						izz="4.66371355874453E-06"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/link1.obj"/>
				</geometry>
			</visual>
		</link>

		<joint name="${prefix}gripper_joint" type="revolute">
			<origin xyz="0.0145 0 0.0510999999999999"/>
			<parent link="${prefix}gripper_base"/>
			<child link="${prefix}gripper_L1"/>
			<axis xyz="0 -1 0"/>
			<limit lower="0" upper="1" effort="1" velocity="1"/>
			<disable_collisions>true</disable_collisions>
		</joint>

		<!-- 夹爪左侧手指 L2 -->
		<link name="${prefix}gripper_L2">
			<inertial>
				<origin xyz="0.0140847588556024 1.38103934445237E-10 0.0136360450679544"/>
				<mass value="0.0225788543528282"/>
				<inertia
						ixx="4.05677771144473E-06"
						ixy="9.09979590001103E-14"
						ixz="-3.87016503842647E-06"
						iyy="9.27580355823765E-06"
						iyz="2.24851503246122E-15"
						izz="7.45268797104849E-06"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/link2.obj"/>
				</geometry>
			</visual>
		</link>

		<joint name="${prefix}gripper_joint_L2" type="revolute">
			<origin xyz="0.0325 0 0.0510999999999999"/>
			<parent link="${prefix}gripper_base"/>
			<child link="${prefix}gripper_L2"/>
			<axis xyz="0 -1 0"/>
			<limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
			<mimic joint="${prefix}gripper_joint" multiplier="1.0" offset="0.0"/>
			<disable_collisions>true</disable_collisions>
		</joint>

		<!-- 夹爪左侧手指 L11 (末端) -->
		<link name="${prefix}gripper_L11">
			<inertial>
				<origin xyz="0.00580213800883548 -8.25165165519234E-05 0.0308700387872591"/>
				<mass value="0.048314774841657"/>
				<inertia
						ixx="1.32981890600081E-05"
						ixy="-5.57022585371537E-10"
						ixz="7.4802436798051E-07"
						iyy="1.22071199015097E-05"
						iyz="-5.96543860568114E-08"
						izz="3.57131660356933E-06"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/pad.obj"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/pad.obj"/>
				</geometry>
			</collision>
		</link>

		<joint name="${prefix}gripper_joint_L11" type="revolute">
			<origin xyz="0.0412500000000001 0 0.036379080527138"/>
			<parent link="${prefix}gripper_L1"/>
			<child link="${prefix}gripper_L11"/>
			<axis xyz="0 1 0"/>
			<limit effort="1" velocity="1" lower="-1.57" upper="1.57"/>
			<mimic joint="${prefix}gripper_joint" multiplier="1.0" offset="0.0"/>
			<disable_collisions>true</disable_collisions>
		</joint>

		<!-- 夹爪右侧手指 R1 -->
		<link name="${prefix}gripper_R1">
			<inertial>
				<origin xyz="-0.0238640864176057 -9.47685705791467E-11 0.0229075443586915"/>
				<mass value="0.0132773347208514"/>
				<inertia
						ixx="4.28423784706424E-06"
						ixy="-3.18098256836165E-14"
						ixz="1.80523452558963E-06"
						iyy="3.7385709458377E-06"
						iyz="1.727141962837E-14"
						izz="4.66371355874451E-06"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/link1.obj" scale="-1 1 1"/>
				</geometry>
			</visual>
		</link>

		<joint name="${prefix}gripper_joint_R1" type="revolute">
			<origin xyz="-0.0144999999999999 0 0.0510999999999939"/>
			<parent link="${prefix}gripper_base"/>
			<child link="${prefix}gripper_R1"/>
			<axis xyz="0 1 0"/>
			<limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
			<mimic joint="${prefix}gripper_joint" multiplier="1.0" offset="0.0"/>
			<disable_collisions>true</disable_collisions>
		</joint>

		<!-- 夹爪右侧手指 R2 -->
		<link name="${prefix}gripper_R2">
			<inertial>
				<origin xyz="-0.0140847588556023 -1.38096956088557E-10 0.0136360450679544"/>
				<mass value="0.0225788543528282"/>
				<inertia
						ixx="4.05677771144474E-06"
						ixy="9.09979616664103E-14"
						ixz="3.87016503842647E-06"
						iyy="9.27580355823765E-06"
						iyz="-2.24851632164595E-15"
						izz="7.45268797104847E-06"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/link2.obj" scale="-1 1 1"/>
				</geometry>
			</visual>
		</link>
		<joint name="${prefix}gripper_joint_R2" type="revolute">
			<origin xyz="-0.0325 0 0.0510999999999999"/>
			<parent link="${prefix}gripper_base"/>
			<child link="${prefix}gripper_R2"/>
			<axis xyz="0 1 0"/>
			<limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
			<mimic joint="${prefix}gripper_joint" multiplier="1.0" offset="0.0"/>
			<disable_collisions>true</disable_collisions>
		</joint>

		<!-- 夹爪右侧手指 R11 (末端) -->
		<link name="${prefix}gripper_R11">
			<inertial>
				<origin xyz="-0.00580213801042903 8.25165349425033E-05 0.0308700387923378"/>
				<mass value="0.048314774834573"/>
				<inertia
						ixx="1.32981890422821E-05"
						ixy="-5.57024612407707E-10"
						ixz="-7.48024369000206E-07"
						iyy="1.22071198991499E-05"
						iyz="5.96543919268235E-08"
						izz="3.57131658810875E-06"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/pad.obj" scale="-1 1 1"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_gripper/pad.obj" scale="-1 1 1"/>
				</geometry>
			</collision>
		</link>
		<joint name="${prefix}gripper_joint_R11" type="revolute">
			<origin xyz="-0.0412499999999999 0 0.0363790805271382"/>
			<parent link="${prefix}gripper_R1"/>
			<child link="${prefix}gripper_R11"/>
			<axis xyz="0 -1 0"/>
			<limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
			<mimic joint="${prefix}gripper_joint" multiplier="1.0" offset="0.0"/>
			<disable_collisions>true</disable_collisions>
		</joint>

		<!-- 夹爪中心参考坐标系 (可选) -->
		<link name="${prefix}gripper_center"/>
		<joint name="${prefix}gripper_center_joint" type="fixed">
			<origin xyz="0 0 0.08" rpy="0 0 0"/>
			<parent link="${prefix}gripper_base"/>
			<child link="${prefix}gripper_center"/>
		</joint>

	</xacro:macro>

</robot>

