<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    Parametric Arm Definition for Astribot S1                                    | -->
<!-- |    This macro creates left/right arms using direction parameter                 | -->
<!-- |    Usage: <xacro:S1Arm name="left"/> or <xacro:S1Arm name="right" direction="-1"/> | -->
<!-- =================================================================================== -->
<robot name="s1_arm" xmlns:xacro="http://www.ros.org/wiki/xacro">

	<xacro:macro name="S1Arm" params="name direction:=1">
		<xacro:property name="prefix" value="${name}_"/>

		<link name="${prefix}base_link">
			<inertial>
				<!-- Left: xyz="-0.04309067 -0.01849796 -0.01384838" -->
				<!-- Right: xyz="-0.04450932 0.01988693 0.00162589" -->
				<xacro:if value="${direction == 1}">
					<origin xyz="-0.04309067 -0.01849796 -0.01384838"/>
					<mass value="2.22887320"/>
					<inertia ixx="0.00386389" ixy="-0.00050396" ixz="0.00025566" iyy="0.00306042" iyz="0.00019224"
									 izz="0.00570294"/>
				</xacro:if>
				<xacro:if value="${direction == -1}">
					<origin xyz="-0.04450932 0.01988693 0.00162589"/>
					<mass value="2.22887320"/>
					<inertia ixx="0.00396811" ixy="0.00041290" ixz="-0.00033387" iyy="0.00304615" iyz="-0.00021572"
									 izz="0.00574641"/>
				</xacro:if>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/base.obj" scale="1 ${direction} 1"/>
				</geometry>
			</visual>
		</link>

		<link name="${prefix}link_1">
			<inertial>
				<origin xyz="0.00012026 0.00047499 -0.05682561"/>
				<mass value="0.59936716"/>
				<inertia ixx="0.00064791" ixy="0.00000149" ixz="0.00000133" iyy="0.00065264" iyz="0.00000160" izz="0.00050137"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/link1.obj"/>
				</geometry>
			</visual>
		</link>
		<joint name="${prefix}joint_1" type="revolute">
			<origin xyz="0 0 0.091"/>
			<parent link="${prefix}base_link"/>
			<child link="${prefix}link_1"/>
			<axis xyz="0 0 1"/>
			<limit effort="265" lower="-3.1" upper="3.1" velocity="8.4"/>
		</joint>

		<link name="${prefix}link_2">
			<inertial>
				<!-- Left: xyz="-0.00396228 0.03490708 0.04270156" mass="1.43694657" -->
				<!-- Right: xyz="-0.00384709 0.03502105 -0.04050705" mass="1.45811037" -->
				<xacro:if value="${direction == 1}">
					<origin xyz="-0.00396228 0.03490708 0.04270156"/>
					<mass value="1.43694657"/>
					<inertia ixx="0.00360751" ixy="-0.00009193" ixz="0.00007764" iyy="0.00283747" iyz="0.00054945"
									 izz="0.00172927"/>
				</xacro:if>
				<xacro:if value="${direction == -1}">
					<origin xyz="-0.00384709 0.03502105 -0.04050705"/>
					<mass value="1.45811037"/>
					<inertia ixx="0.00394196" ixy="-8.846e-05" ixz="-3.742e-05" iyy="0.00316298" iyz="-0.0007079"
									 izz="0.00177295"/>
				</xacro:if>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/link2.obj" scale="1 1 ${direction} "/>
				</geometry>
			</visual>
		</link>
		<joint name="${prefix}joint_2" type="revolute">
			<origin rpy="1.5708 0 0"/>
			<parent link="${prefix}link_1"/>
			<child link="${prefix}link_2"/>
			<axis xyz="0 0 1"/>
			<limit effort="265" lower="-1.53" upper="0.46" velocity="8.4"/>
		</joint>

		<link name="${prefix}link_3">
			<inertial>
				<origin xyz="0.00531263 0.00020707 0.16136713"/>
				<mass value="2.0926399"/>
				<inertia ixx="0.01752179" ixy="2.336e-05" ixz="0.00144018" iyy="0.01784671" iyz="-3.027e-05" izz="0.0021843"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/link3.obj"/>
				</geometry>
			</visual>
			<collision>
				<origin xyz="0 0 0.15"/>
				<geometry>
					<cylinder length="0.18" radius="0.05"/>
				</geometry>
			</collision>
		</link>
		<joint name="${prefix}joint_3" type="revolute">
			<origin rpy="1.5708 0 -1.5708" xyz="0 0.05 0"/>
			<parent link="${prefix}link_2"/>
			<child link="${prefix}link_3"/>
			<axis xyz="0 0 1"/>
			<limit effort="132" lower="-3.1" upper="3.1" velocity="8.4"/>
		</joint>

		<link name="${prefix}link_4">
			<inertial>
				<origin xyz="0.00017294 -0.01269315 0.00196140"/>
				<mass value="0.36587933"/>
				<inertia ixx="0.00047693" ixy="0.00000635" ixz=" 0.00000135" iyy="0.00036801" iyz="0.00000705"
								 izz="0.00050082"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/link4.obj"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<sphere radius="0.06"/>
				</geometry>
			</collision>
		</link>
		<joint name="${prefix}joint_4" type="revolute">
			<origin rpy="-1.5708 0 0" xyz="0.03 0 0.309"/>
			<parent link="${prefix}link_3"/>
			<child link="${prefix}link_4"/>
			<axis xyz="0 0 1"/>
			<limit effort="142" lower="-0.06" upper="2.61" velocity="15"/>
		</joint>

		<!-- =================================================================================== -->
		<!-- Link 5 - Shared mesh                                                              -->
		<!-- =================================================================================== -->
		<link name="${prefix}link_5">
			<inertial>
				<origin xyz="-0.00032037 -0.00015185 0.15370447"/>
				<mass value="1.24085064"/>
				<inertia ixx="0.00454092" ixy="1.58e-06" ixz="-5.91e-06" iyy="0.00438922" iyz="-4.927e-05" izz="0.00079442"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/link5.obj"/>
				</geometry>
				<material name="">
					<color rgba="0.698039215686274 0.698039215686274 0.698039215686274 1"/>
				</material>
			</visual>
			<collision>
				<origin xyz="0 0 0.14"/>
				<geometry>
					<cylinder length="0.14" radius="0.05"/>
				</geometry>
			</collision>
		</link>
		<joint name="${prefix}joint_5" type="revolute">
			<origin rpy="1.5708 0 0"/>
			<parent link="${prefix}link_4"/>
			<child link="${prefix}link_5"/>
			<axis xyz="0 0 1"/>
			<limit effort="71" lower="-2.56" upper="2.56" velocity="20"/>
		</joint>

		<link name="${prefix}link_6">
			<inertial>
				<origin xyz="-0.00010311 0.00001218 0.00013181"/>
				<mass value="0.22465307"/>
				<inertia ixx="0.00016474" ixy="0.00000007" ixz="0.00000025" iyy="0.00015608" iyz="0.00000018" izz="0.00008555"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/link6.obj"/>
				</geometry>
			</visual>
		</link>

		<joint name="${prefix}joint_6" type="revolute">
			<origin rpy="-1.5708 0 0" xyz="0 0 0.277"/>
			<parent link="${prefix}link_5"/>
			<child link="${prefix}link_6"/>
			<axis xyz="0 0 1"/>
			<limit effort="20" lower="-0.76" upper="0.76" velocity="16.8"/>
		</joint>

		<link name="${prefix}link_7">
			<inertial>
				<origin xyz="4.333e-05 -0.00723447 -0.00362428"/>
				<mass value="0.12772019"/>
				<inertia ixx="0.00013672" ixy="1.6e-07" ixz="-2.4e-07" iyy="0.00010783" iyz="-3.35e-06" izz="5.858e-05"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find astribot_s1_description)/meshes/s1_arm/link7.obj"/>
				</geometry>
			</visual>
			<collision>
				<origin xyz="0.006 0 0"/>
				<geometry>
					<sphere radius="0.05"/>
				</geometry>
			</collision>
		</link>
		<joint name="${prefix}joint_7" type="revolute">
			<origin rpy="0 1.5708 0"/>
			<parent link="${prefix}link_6"/>
			<child link="${prefix}link_7"/>
			<axis xyz="0 0 1"/>
			<limit effort="20" lower="-1.53" upper="1.53" velocity="16.8"/>
		</joint>

	</xacro:macro>
</robot>

