<?xml version="1.0" encoding="utf-8"?>
<robot name="R1Pro_Left_Arm" xmlns:xacro="http://www.ros.org/wiki/xacro">

	<xacro:macro name="Arm" params="name direction:=1">

		<xacro:property name="prefix" value="${name + '_' if name else ''}"/>

		<link name="${prefix}base_link">
			<inertial>
				<origin xyz="0.00026981 ${direction*0.034587} 0"/>
				<mass value="1.48"/>
				<inertia ixx="0.0010298" ixy="5.2194E-06" ixz="-1.2182E-07" iyy="0.0014076" iyz="-3.9334E-09"
								 izz="0.0010201"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/base.obj" scale="1 ${direction} 1"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/base.obj" scale="1 ${direction} 1"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Link 1 -->
		<link name="${prefix}link1">
			<inertial>
				<origin xyz="0.00042258 ${direction*0.074131} 7.9156E-05" />
				<mass value="1.135"/>
				<inertia ixx="0.00061603" ixy="-1.1635E-06" ixz="-6.9725E-07" iyy="0.00030259" iyz="-6.2894E-07"
								 izz="0.00047136"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link1.obj" scale="1 ${direction} 1"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link1.obj" scale="1 ${direction} 1"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Link 2 -->
		<link name="${prefix}link2">
			<inertial>
				<origin xyz="-0.026826 ${-direction*0.0040392} -0.031835" />
				<mass value="0.92"/>
				<inertia ixx="0.00037378" ixy="-7.5909E-07" ixz="2.9042E-06" iyy="0.00033872" iyz="1.2166E-05"
								 izz="0.00032361"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link2.obj" scale="1 ${direction} 1"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link2.obj" scale="1 ${direction} 1"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Link 3 -->
		<link name="${prefix}link3">
			<inertial>
				<origin xyz="0.0053849 -0.00086892 -0.1126" />
				<mass value="1.245"/>
				<inertia ixx="0.00072339" ixy="-3.3477E-06" ixz="-0.00012824" iyy="0.00073856" iyz="-8.3574E-06"
								 izz="0.00037352"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link3.obj"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link3.obj"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Link 4 -->
		<link name="${prefix}link4">
			<inertial>
				<origin xyz="-0.0011018 -0.036243 -0.042164" />
				<mass value="0.827"/>
				<inertia ixx="0.00013884" ixy="7.8394E-08" ixz="3.5926E-06" iyy="0.00019751" iyz="1.4227E-06"
								 izz="0.00010229"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link4.obj"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link4.obj"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Link 5 -->
		<link name="${prefix}link5">
			<inertial>
				<origin xyz="0 ${-direction*0.0028035} -0.062981" />
				<mass value="0.939"/>
				<inertia ixx="0.00070496" ixy="1.4329E-08" ixz="-2.9036E-09" iyy="0.00067006" iyz="-5.1951E-05"
								 izz="0.00032998"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link5.obj" scale="1 ${direction} 1"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link5.obj" scale="1 ${direction} 1"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Link 6 -->
		<link name="${prefix}link6">
			<inertial>
				<origin xyz="0.0017919 ${direction*0.027487} 0.00025471" />
				<mass value="0.527"/>
				<inertia ixx="8.5442E-05" ixy="-1.5351E-07" ixz="8.3797E-07" iyy="8.1186E-05" iyz="-2.1972E-08"
								 izz="8.2736E-05"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link6.obj" scale="1 ${direction} 1"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link6.obj" scale="1 ${direction} 1"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Link 7 -->
		<link name="${prefix}link7">
			<inertial>
				<origin xyz="-0.022945 0 -0.056525" />
				<mass value="0.185"/>
				<inertia ixx="4.2564E-05" ixy="-2.1577E-09" ixz="-6.9368E-06" iyy="4.5515E-05" iyz="-1.9389E-09"
								 izz="4.7946E-05"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link7.obj"/>
				</geometry>
			</visual>
			<collision>
				<geometry>
					<mesh filename="file://$(find galaxea_r1pro_description)/meshes/pro_arm/link7.obj"/>
				</geometry>
			</collision>
		</link>

		<!-- Arm Joints and Links -->
		<joint name="${prefix}base_joint" type="fixed">
			<origin xyz="-0.00048618 ${direction*0.097234} 0.30302" />
			<parent link="torso_link4"/>
			<child link="${prefix}base_link"/>
		</joint>

		<!-- Arm Joints -->
		<joint name="${prefix}joint1" type="revolute">
			<origin xyz="0 ${direction*0.0735} 0" />
			<parent link="${prefix}base_link"/>
			<child link="${prefix}link1"/>
			<axis xyz="0 1 0"/>
			<limit lower="-4.4506" upper="1.3090" effort="55" velocity="7.1209"/>
		</joint>

		<joint name="${prefix}joint2" type="revolute">
			<origin xyz="0.025012 ${direction*0.081265} 0" />
			<parent link="${prefix}link1"/>
			<child link="${prefix}link2"/>
			<axis xyz="${direction} 0 0"/>
			<limit lower="-0.1745" upper="3.1416" effort="55" velocity="7.1209"/>
		</joint>

		<joint name="${prefix}joint3" type="revolute">
			<origin xyz="-0.025012 0 -0.1155" />
			<parent link="${prefix}link2"/>
			<child link="${prefix}link3"/>
			<axis xyz="0 0 1"/>
			<limit lower="-2.356196" upper="2.356196" effort="25" velocity="8.3776"/>
		</joint>

		<joint name="${prefix}joint4" type="revolute">
			<origin xyz="0 0.035065 -0.1945" />
			<parent link="${prefix}link3"/>
			<child link="${prefix}link4"/>
			<axis xyz="0 1 0"/>
			<limit lower="-2.0944" upper="0.3491" effort="25" velocity="8.3776"/>
		</joint>

		<joint name="${prefix}joint5" type="revolute">
			<origin xyz="0 -0.035065 -0.095" />
			<parent link="${prefix}link4"/>
			<child link="${prefix}link5"/>
			<axis xyz="0 0 1"/>
			<limit lower="-2.356196" upper="2.356196" effort="18" velocity="10.4720"/>
		</joint>

		<joint name="${prefix}joint6" type="revolute">
			<origin xyz="0 ${-direction*0.028} -0.16305" />
			<parent link="${prefix}link5"/>
			<child link="${prefix}link6"/>
			<axis xyz="0 1 0"/>
			<limit lower="-1.047198" upper="1.047198" effort="18" velocity="10.4720"/>
		</joint>

		<joint name="${prefix}joint7" type="revolute">
			<origin xyz="0.0295 ${direction*0.028} 0" />
			<parent link="${prefix}link6"/>
			<child link="${prefix}link7"/>
			<axis xyz="1 0 0"/>
			<limit lower="-1.5708" upper="1.5708" effort="18" velocity="10.4720"/>
		</joint>


		<xacro:include filename="$(find galaxea_a1_description)/xacro/gripper.xacro"/>
		<xacro:Gripper name="${name}"/>

		<joint name="${prefix}gripper_base_joint" type="fixed">
			<origin xyz="-0.0295 0 -0.16065" rpy="0 1.5708 0"/>
			<parent link="${prefix}link7"/>
			<child link="${prefix}gripper_base"/>
		</joint>

	</xacro:macro>
</robot>
